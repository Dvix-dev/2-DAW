<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="David Escutia de Haro">
    <meta name="author" content="Dvix">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="favicon" href="assets/">
    <link rel="stylesheet" href="main.css">
    <title>Calculadora Minimo Comun Multiplo</title>
</head>

<body>
    <div class="contenedor">
        <h1>CALCULADORA MCM</h1>
        <form class="tapiz" action="mcm.php" method="post">
            <div class="row">
                <label>Nº 1:</label>
                <input type="text" name="num1" id="num1" placeholder="Introduzca un numero" required>
            </div>
            <div class="row">
                <label>Nº 2:</label>
                <input type="text" name="num2" id="num2" placeholder="Introduzca un numero" required>
            </div>
            <div class="row">
                <label>Nº 3:</label>
                <input type="text" name="num3" id="num3" placeholder="Introduzca un numero" required>
            </div>
            <div class="btn-row">
                <button id="btn-submit" type="button" onclick="verificar()">Calcular</button>
                <button type="reset">Reset</button>
            </div>
        </form>
    </div>

    <script>
         function verificar() {
            let contenedor = document.querySelector('.tapiz');
            let inputs = document.querySelectorAll('.tapiz input[type="text"]');
            let datos = [];
            let correcto = true;

            inputs.forEach(input => {
                datos.push(input.value);
            });

            datos.forEach(dato => {
                let num = Number(dato);
                if (!Number.isInteger(num) || num <= 1) {
                    correcto = false;
                }
            });

            if (!correcto) {
                contenedor.innerHTML = '<p style="color: red;">⚠️ Alguno de los valores introducidos no es un número entero mayor que 1</p><br>';
                contenedor.insertAdjacentHTML('beforeend','<a href="index.html"><button type="button" style="margin: 0;">Volver al formulario</button></a>')

            } else {
                contenedor.submit();
            }
        }
    </script>
</body>
</html>